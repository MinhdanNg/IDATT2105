{"remainingRequest":"/Users/md/Desktop/Fullstack/oblig2/node_modules/babel-loader/lib/index.js!/Users/md/Desktop/Fullstack/oblig2/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/md/Desktop/Fullstack/oblig2/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/md/Desktop/Fullstack/oblig2/src/components/Form.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/md/Desktop/Fullstack/oblig2/src/components/Form.vue","mtime":1645629378107},{"path":"/Users/md/Desktop/Fullstack/oblig2/babel.config.js","mtime":1643378615212},{"path":"/Users/md/Desktop/Fullstack/oblig2/node_modules/cache-loader/dist/cjs.js","mtime":1643378586576},{"path":"/Users/md/Desktop/Fullstack/oblig2/node_modules/babel-loader/lib/index.js","mtime":1643378586582},{"path":"/Users/md/Desktop/Fullstack/oblig2/node_modules/cache-loader/dist/cjs.js","mtime":1643378586576},{"path":"/Users/md/Desktop/Fullstack/oblig2/node_modules/vue-loader-v16/dist/index.js","mtime":1643378589953}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRlc3QuanMiOwppbXBvcnQgeyB1c2VGaWVsZCwgdXNlRm9ybSB9IGZyb20gJ3ZlZS12YWxpZGF0ZSc7CmltcG9ydCBCYXNlSW5wdXQgZnJvbSAiQC9jb21wb25lbnRzL0Jhc2VJbnB1dCI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmVlZGJhY2s6IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBlbWFpbDogJycsCiAgICAgICAgbWVzc2FnZTogJycKICAgICAgfSwKICAgICAgbWVzc2FnZTogJycsCiAgICAgIHN0YXR1czogJycKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBCYXNlSW5wdXQ6IEJhc2VJbnB1dAogIH0sCiAgbWV0aG9kczogewogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJTRVRfTkFNRSIsIHRoaXMubmFtZSk7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiU0VUX0VNQUlMIiwgdGhpcy5lbWFpbCk7CiAgICAgIHRoaXMuc3RhdHVzID0gIlNlbmRpbmcuLi4iOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXMuc3RhdHVzID0gIlNlbnQhIjsKICAgICAgfSwgMjAwMCk7CiAgICAgIGNvbnNvbGUubG9nKCJOYW1lOiAiLCB0aGlzLiRzdG9yZS5zdGF0ZS5uYW1lLCAiRW1haWw6ICIsIHRoaXMuJHN0b3JlLnN0YXRlLmVtYWlsKTsKICAgIH0KICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciB2YWxpZGF0aW9ucyA9IHsKICAgICAgZW1haWw6IGZ1bmN0aW9uIGVtYWlsKHZhbHVlKSB7CiAgICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuICdUaGlzIGZpZWxkIGlzIHJlcXVpcmVkJzsKICAgICAgICB2YXIgcmVnZXggPSAvXigoW148PigpW1xdXFwuLDs6XHNAIl0rKFwuW148PigpW1xdXFwuLDs6XHNAIl0rKSopfCgiLisiKSlAKChcW1swLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cXSl8KChbYS16QS1aXC0wLTldK1wuKStbYS16QS1aXXsyLH0pKSQvOwoKICAgICAgICBpZiAoIXJlZ2V4LnRlc3QoU3RyaW5nKHZhbHVlKS50b0xvd2VyQ2FzZSgpKSkgewogICAgICAgICAgcmV0dXJuICdQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzJzsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9LAogICAgICBuYW1lOiBmdW5jdGlvbiBuYW1lKHZhbHVlKSB7CiAgICAgICAgdmFyIHJlcXVpcmVkTWVzc2FnZSA9ICdUaGlzIGZpZWxkIGlzIHJlcXVpcmVkJzsKICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuIHJlcXVpcmVkTWVzc2FnZTsKICAgICAgICBpZiAoIVN0cmluZyh2YWx1ZSkubGVuZ3RoKSByZXR1cm4gcmVxdWlyZWRNZXNzYWdlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9OwogICAgdXNlRm9ybSh7CiAgICAgIHZhbGlkYXRpb25TY2hlbWE6IHZhbGlkYXRpb25zCiAgICB9KTsKCiAgICB2YXIgX3VzZUZpZWxkID0gdXNlRmllbGQoJ2VtYWlsJyksCiAgICAgICAgZW1haWwgPSBfdXNlRmllbGQudmFsdWUsCiAgICAgICAgZW1haWxFcnJvciA9IF91c2VGaWVsZC5lcnJvck1lc3NhZ2U7CgogICAgdmFyIF91c2VGaWVsZDIgPSB1c2VGaWVsZCgnbmFtZScpLAogICAgICAgIG5hbWUgPSBfdXNlRmllbGQyLnZhbHVlLAogICAgICAgIG5hbWVFcnJvciA9IF91c2VGaWVsZDIuZXJyb3JNZXNzYWdlOwoKICAgIHJldHVybiB7CiAgICAgIGVtYWlsOiBlbWFpbCwKICAgICAgZW1haWxFcnJvcjogZW1haWxFcnJvciwKICAgICAgbmFtZTogbmFtZSwKICAgICAgbmFtZUVycm9yOiBuYW1lRXJyb3IKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["/Users/md/Desktop/Fullstack/oblig2/src/components/Form.vue"],"names":[],"mappings":";;;AA6BA,SAAS,QAAT,EAAmB,OAAnB,QAAkC,cAAlC;AACA,OAAO,SAAP,MAAsB,wBAAtB;AAEA,eAAe;AACb,EAAA,IADa,kBACL;AACN,WAAO;AACL,MAAA,QAAQ,EAAE;AACR,QAAA,IAAI,EAAE,EADE;AAER,QAAA,KAAK,EAAE,EAFC;AAGR,QAAA,OAAO,EAAE;AAHD,OADL;AAML,MAAA,OAAO,EAAE,EANJ;AAOL,MAAA,MAAM,EAAE;AAPH,KAAP;AASD,GAXY;AAYb,EAAA,UAAU,EAAE;AAAC,IAAA,SAAS,EAAT;AAAD,GAZC;AAab,EAAA,OAAO,EAAE;AACP,IAAA,QADO,sBACK;AAAA;;AACV,WAAK,MAAL,CAAY,MAAZ,CAAmB,UAAnB,EAA+B,KAAK,IAApC;AACA,WAAK,MAAL,CAAY,MAAZ,CAAmB,WAAnB,EAAgC,KAAK,KAArC;AACA,WAAK,MAAL,GAAc,YAAd;AACA,MAAA,UAAU,CAAC;AAAA,eAAM,KAAI,CAAC,MAAL,GAAc,OAApB;AAAA,OAAD,EAA8B,IAA9B,CAAV;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,QAAZ,EAAsB,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAAxC,EAA8C,SAA9C,EAAyD,KAAK,MAAL,CAAY,KAAZ,CAAkB,KAA3E;AACF;AAPO,GAbI;AAsBb,EAAA,KAtBa,mBAsBJ;AACP,QAAM,WAAU,GAAI;AACd,MAAA,KAAK,EAAE,eAAA,KAAI,EAAK;AACd,YAAI,CAAC,KAAL,EAAY,OAAO,wBAAP;AAEZ,YAAM,KAAI,GAAI,uJAAd;;AACA,YAAI,CAAC,KAAK,CAAC,IAAN,CAAW,MAAM,CAAC,KAAD,CAAN,CAAc,WAAd,EAAX,CAAL,EAA8C;AAC5C,iBAAO,oCAAP;AACF;;AAEA,eAAO,IAAP;AACD,OAVa;AAWlB,MAAA,IAAI,EAAE,cAAA,KAAI,EAAK;AACb,YAAM,eAAc,GAAI,wBAAxB;AACA,YAAI,KAAI,KAAM,SAAV,IAAuB,KAAI,KAAM,IAArC,EAA2C,OAAO,eAAP;AAC3C,YAAI,CAAC,MAAM,CAAC,KAAD,CAAN,CAAc,MAAnB,EAA2B,OAAO,eAAP;AAC3B,eAAO,IAAP;AACE;AAhBc,KAApB;AAkBA,IAAA,OAAO,CAAC;AACN,MAAA,gBAAgB,EAAE;AADZ,KAAD,CAAP;;AAGA,oBAAmD,QAAQ,CAAC,OAAD,CAA3D;AAAA,QAAe,KAAf,aAAQ,KAAR;AAAA,QAAoC,UAApC,aAAsB,YAAtB;;AACA,qBAAiD,QAAQ,CAAC,MAAD,CAAzD;AAAA,QAAe,IAAf,cAAQ,KAAR;AAAA,QAAmC,SAAnC,cAAqB,YAArB;;AAGA,WAAO;AACL,MAAA,KAAK,EAAL,KADK;AAEL,MAAA,UAAU,EAAV,UAFK;AAGL,MAAA,IAAI,EAAJ,IAHK;AAIL,MAAA,SAAQ,EAAR;AAJK,KAAP;AAMF;AAtDa,CAAf","sourcesContent":["<template>\n  <div>\n    <h1>Contact form</h1>\n    <form id=\"form\" @submit.prevent=\"onSubmit\">\n      <label>Name</label>\n      <BaseInput\n          v-model=\"name\"\n          type=\"name\"\n          :error=\"nameError\"\n      />\n      <label>Email address</label>\n      <BaseInput\n          v-model=\"email\"\n          type=\"email\"\n          :error=\"emailError\"\n      />\n      <label>Message</label>\n      <BaseInput\n          v-model=\"message\"\n          type=\"text\"\n          required\n      />\n      <button type=\"submit\" :disabled=\"nameError || emailError || !message || !name || !email \">Submit</button>\n      <div> {{status}}</div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { useField, useForm } from 'vee-validate'\nimport BaseInput from \"@/components/BaseInput\";\n\nexport default {\n  data () {\n    return {\n      feedback: {\n        name: '',\n        email: '',\n        message: '',\n      },\n      message: '',\n      status: '',\n    }\n  },\n  components: {BaseInput},\n  methods: {\n    onSubmit () {\n      this.$store.commit(\"SET_NAME\", this.name);\n      this.$store.commit(\"SET_EMAIL\", this.email);\n      this.status = \"Sending...\";\n      setTimeout(() => this.status = \"Sent!\", 2000);\n      console.log(\"Name: \", this.$store.state.name, \"Email: \", this.$store.state.email);\n    }\n  },\n  setup () {\n    const validations = {\n          email: value => {\n            if (!value) return 'This field is required'\n\n            const regex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n            if (!regex.test(String(value).toLowerCase())) {\n              return 'Please enter a valid email address'\n            }\n\n            return true\n          },\n      name: value => {\n        const requiredMessage = 'This field is required'\n        if (value === undefined || value === null) return requiredMessage\n        if (!String(value).length) return requiredMessage\n        return true\n          }\n    }\n    useForm({\n      validationSchema: validations\n    })\n    const { value: email, errorMessage: emailError } = useField('email')\n    const { value: name, errorMessage: nameError } = useField('name')\n\n\n    return {\n      email,\n      emailError,\n      name,\n      nameError\n    }\n  }\n}\n</script>\n\n<style scoped>\n#form {\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  width: 250px;\n  margin: auto;\n}\n</style>"],"sourceRoot":""}]}